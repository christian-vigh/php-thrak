<?php
	if  ( count ( $argv ) > 1 )
		$obj	=  $argv [1] ;
	else
		$obj 	=  285 ;
		
	$file 		=  "obj$obj.dat" ;
	
	if  ( ! file_exists ( $file ) )
	   {
		echo ( "Unable to open file $file.\n" ) ;
		exit ;
	    }
	    
	$contents 	=  file_get_contents ( $file ) ;
//	$header 	=  chr ( 31) . chr ( 139 ). chr ( 8 ) . chr ( 0 ) . chr ( 0 ) . chr ( 0 ) . chr ( 0 ) . chr ( 0 ). chr ( 0 ) . chr ( 1 ) ;
	$header 	=  chr ( 0x1F ) . chr ( 0x8B ). chr ( 8 ) . chr ( 0 ) . chr ( 0 ) . chr ( 0 ) . chr ( 0 ) . chr ( 0 ) ;
	
	$contents2 	=  substr ( $contents, 2 ) ;
	$contents2bis 	=  $header . $contents2 ;
	
	echo ( "gzuncompress :\n" ) ;
	echo gzuncompress ( $contents ) . "\n" ;
	echo ( "gzuncompress (2):\n" ) ;
	echo gzuncompress ( $contents2 ) . "\n" ;
	echo ( "gzuncompress (2bis) :\n" ) ;
	echo gzuncompress ( $contents2bis ) . "\n" ;
	
	echo ( "gzinflate :\n" ) ;
	echo gzinflate ( $contents ) . "\n" ;
	echo ( "gzinflate (2):\n" ) ;
	echo gzinflate ( $contents2 ) . "\n" ;
	echo ( "gzinflate (2bis) :\n" ) ;
	echo gzinflate ( $contents2bis ) . "\n" ;
	
	echo ( "gzdecode :\n" ) ;
	echo gzdecode ( $contents ) . "\n" ;
	echo ( "gzdecode (2):\n" ) ;
	echo gzdecode ( $contents2 ) . "\n" ;
	echo ( "gzdecode (2bis) :\n" ) ;
	echo gzdecode ( $contents2bis ) . "\n" ;
	
	echo ( "zlib_decode :\n" ) ;
	echo zlib_decode ( $contents ) . "\n" ;
	echo ( "zlib_decode (2):\n" ) ;
	echo zlib_decode ( $contents2 ) . "\n" ;
	echo ( "zlib_decode (2bis) :\n" ) ;
	echo zlib_decode ( $contents2bis ) . "\n" ;

	echo ( "bzdecompress :\n" ) ;
	echo bzdecompress ( $contents ) . "\n" ;
	echo ( "bzdecompress (2):\n" ) ;
	echo bzdecompress ( $contents2 ) . "\n" ;
	echo ( "bzdecompress (2bis) :\n" ) ;
	echo bzdecompress ( $contents2bis ) . "\n" ;
	
