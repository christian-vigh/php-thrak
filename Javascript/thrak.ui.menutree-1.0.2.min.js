(function($){var manualHashChange=false;$.widget('thrak.menutree',{options:{method:'inline',titleSelector:undefined,contentSelector:undefined,onSelect:undefined},select:function(id,use_hash){if(use_hash===true&&window.location.hash.length>0)
id=window.location.hash;var obj=$('li[href="'+id+'"]');var parent_li=obj.parent().closest('li');while(parent_li.length>0){parent_li.removeClass('ui-menutree-item-collapsed').addClass('ui-menutree-item-expanded');$('>ul',parent_li).css('display','list-item');parent_li=parent_li.parent().closest('li');}
this.options.instance._click(obj,null,false);this.options.instance._select(obj);},_create:function(){var $this_widget=this;var $widget=this.element;this.options.instance=$this_widget;$widget.addClass("ui-menutree ui-thrak-menutree");$('>li',$widget).each(this._wrap_li);$('li>ul',$widget).css('display','none');$('li',$widget).click(function(e){$this_widget._click($(this),e,false);});$('li>span',$widget).click(function(e){$this_widget._click($(this).parent(),e,true);});$(document).ready(function(){$(document).on('click','a.ui-menutree-goto',function(e){$this_widget.select($(this).attr('href'));e.preventDefault();return(true);});$(window).on('hashchange',function(){var obj=$('li[href="'+window.location.hash+'"]');var $this=$this_widget.options.instance var parent_li=obj.parent().closest('li');while(parent_li.length>0){parent_li.removeClass('ui-menutree-item-collapsed').addClass('ui-menutree-item-expanded');$('>ul',parent_li).css('display','list-item');parent_li=parent_li.parent().closest('li');}
$('li[href]',$widget).removeClass('ui-menutree-item-active');obj.addClass('ui-menutree-item-active');$this._select(obj);});});},_setOption:function(key,value){this._super(key,value);},_setOptions:function(options){this._super(options);},_wrap_li:function(index,object){var $this=$(object);var $ul=$('>ul',$this).first();var is_menu=($ul.length>0);var icon_class='';$this.addClass('ui-menutree-item');if(is_menu){$this.addClass('ui-menutree-parent ui-menutree-item-collapsed');icon_class='ui-menutree-icon-parent';}
else{$this.addClass('ui-menutree-single');icon_class='ui-menutree-icon-single';}
var contents='',submenu='';$this.contents().each(function(){var $item=$(this);if(submenu==''&&$item.tag()=='ul')
submenu=$item.outerHtml();else contents+=$item.outerHtml();});if($this.attr('item-title')===undefined)
$this.attr('item-title',contents);$this.html('<span class="ui-icon ui-menutree-icon '+icon_class+'"></span><div>'+contents+'</div>'+submenu);$('>ul',$this).first().addClass('ui-menutree-children');$('ul>li',$this).each(arguments.callee);},_select:function(obj){switch(this.options.method.toLowerCase()){case 'inline':break;case 'ajax':break;default:throw("Invalid selection update method '"+this.options.method+"'");}
if(this.options.titleSelector)
$(this.options.titleSelector).html(obj.attr('item-title'));var html=$(obj.attr('href')).html();if(this.options.contentSelector)
$(this.options.contentSelector).html((html)? html:'');if(this.options.onSelect)
this.options.onSelect();},_click:function($this,e,force_collapse){var $widget=this.option.instance;var is_active=$this.hasClass('ui-menutree-item-active');$this.killEvent(e);if(is_active||force_collapse){if($this.hasClass('ui-menutree-item-collapsed')){$this.removeClass('ui-menutree-item-collapsed').addClass('ui-menutree-item-expanded');$('>ul',$this).css('display','list-item');}
else{$this.removeClass('ui-menutree-item-expanded').addClass('ui-menutree-item-collapsed');$('>ul',$this).css('display','none');}}
else{$('li',this.element).removeClass('ui-menutree-item-active');$this.addClass('ui-menutree-item-active');$this.removeClass('ui-menutree-item-collapsed').addClass('ui-menutree-item-expanded');$('>ul',$this).css('display','list-item');}
if(!force_collapse)
this._select($this);window.location.hash=$this.attr('href');}});}(jQuery));