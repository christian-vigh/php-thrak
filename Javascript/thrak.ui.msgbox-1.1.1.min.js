(function($){var unique_id=1;$.alert=function(msg,title,callback,options){__show_alert("alert",arguments);}
$.error=function(msg,title,callback,options){__show_alert("error",arguments);}
$.confirm=function(msg,title,callback,options){__show_alert("confirm",arguments);}
var user_callback=null;var message="<span style='color: #FF0000'>The developer forgot to specify a message for this alert...</span>";var messagebox_type;var default_options={modal:true,width:"auto",height:"auto",maxWidth:"800px",resizable:false,stack:true,open:function(){var $this=$(this);var $parent=$this.parent();$this.addClass('ui-msgbox-dialog-message ui-'+messagebox_type+'-dialog-message');$('.ui-button',$parent).addClass('ui-msgbox-dialog-button ui-'+messagebox_type+'-dialog-button');$('.ui-dialog-titlebar',$parent).addClass('ui-msgbox-dialog-titlebar ui-'+messagebox_type+'-dialog-titlebar');$('.ui-dialog-title',$parent).addClass('ui-msgbox-dialog-title ui-'+messagebox_type+'-dialog-title');$('.ui-button-icon-only',$parent).addClass('ui-msgbox-button-icon-only ui-'+messagebox_type+'-button-icon-only');$('.ui-dialog-buttonset',$parent).addClass('ui-msgbox-dialog-buttonset ui-'+messagebox_type+'-dialog-buttonset');$('.ui-button-text',$parent).addClass('ui-msgbox-dialog-button-text ui-'+messagebox_type+'-dialog-button-text');$parent.on('keydown',function(e){if(e.keyCode===$.ui.keyCode.ESCAPE)__close_me($this,0);else if(e.keyCode===$.ui.keyCode.ENTER)__close_me($this,1);});}};function __close_me($this,status){user_callback&&user_callback(status);$this.dialog('destroy');$this.remove();}
function __show_alert(boxtype,args){messagebox_type=boxtype;var alert_title=($.locale&&$.locale().options.msgbox.alert.title)||"Message";var confirm_title=($.locale&&$.locale().options.msgbox.confirm.title)||"Confirmation";var error_title=($.locale&&$.locale().options.msgbox.error.title)||"Erreur";$.alert.options=$.extend($.alert.options,default_options,{title:alert_title});$.confirm.options=$.extend($.confirm.options,default_options,{title:confirm_title});$.error.options=$.extend($.error.options,default_options,{title:error_title});var dialog_buttons;var dialog_options;messagebox_type=messagebox_type.toLowerCase();switch(messagebox_type){case "confirm":dialog_buttons={Ok:function(){__close_me($(this),1);},Annuler:function(){__close_me($(this),0);}};dialog_options=$.confirm.options;break;case "error":dialog_buttons={Ok:function(e){__close_me($(this),1);}};dialog_options=$.error.options;break;case "alert":default:dialog_buttons={Ok:function(){__close_me($(this),1);}};dialog_options=$.alert.options;}
var dialog_id="msgbox-alert-"+unique_id++;var dialog_selector='#'+dialog_id;var more_options={buttons:dialog_buttons};var got_message=false;for(var i=0;i<args.length;i++){var argument=args[i];var argtype=typeof(argument);switch(argtype.toLowerCase()){case 'string':if(got_message)dialog_options.title=argument;else{message=argument;got_message=true;}
break;case 'function':user_callback=argument;break;case 'object':more_options=$.extend(more_options,argument);break;default:throw("Unexpected argument of type '"+argtype+"'");}}
var dialog_options=$.extend(dialog_options,more_options);$('body').append("<div id='"+dialog_id+"' style='display: none'>"+message+"</div>");$(dialog_selector).dialog(dialog_options);$(dialog_selector).dialog('open');}}(jQuery));